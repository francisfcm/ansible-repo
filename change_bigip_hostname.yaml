---

- name: Testing importing group and host vars via Tower
  hosts: all
  gather_facts: no
  connection: local
  vars:
    bigip_admin_credentials: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64393664323532643139396535323361396662366365303837633634663231646338306438343733
          6265663930336161623538393734323965623836616134620a366362303430313336316666353365
          36356534323665656463313933383637396137356432376533663632393866343630383538656533
          3930663135313961340a333933346436373161316430356162613638306161646133386534373635
          3933

  tasks:
    - name: Setting the hostname of the target BIGIP
      bigip_hostname:
        hostname: "{{ hostname }}"
        provider:
          user: admin
          server: "{{ ansible_host }}"
          password: "{{ bigip_admin_credentials }}"
          validate_certs: no
